# ddoc v2.1.0 릴리스 노트

## 릴리스 일자
2025-12-30

## 🎯 Multi-Modal Analysis - 멀티모달 분석 기능 추가

ddoc v2.1.0은 이미지, 텍스트, 시계열, 오디오 데이터를 모두 분석할 수 있는 멀티모달 분석 기능을 추가한 주요 릴리스입니다. 각 모달리티는 독립적인 플러그인으로 구현되어 있으며, `ddoc-full` 메타패키지를 통해 한 번에 설치할 수 있습니다.

## ✨ 주요 기능

### 1. 멀티모달 EDA 및 Drift 분석
- `ddoc analyze eda`: 모든 모달리티의 데이터셋을 자동 감지하여 일괄 분석
- `ddoc analyze drift`: 두 스냅샷 간 모든 모달리티에 대한 드리프트 계산
- 각 플러그인이 자신의 모달리티만 처리하여 충돌 없음

### 2. 이미지 분석 개선
- **속성 지표 9종 구현** (complexity 제외):
  - brightness, exposure, contrast, dynamic_range, colorfulness, edge_density, sharpness, entropy, gaussian_noise_level
- **속성 드리프트**: 9종 지표의 분포를 PSI로 비교
- **CLIP 임베딩 드리프트**: 기존 방식 유지 (MMD, PSI, Cosine Distance 등 앙상블)

### 3. 텍스트 분석 플러그인 신규 추가
- **CSV 파일만 지원** (YAML 스키마 필수)
- **물리 기반 지표**: length, whitespace/special_char ratio, stopword ratio, vocab diversity, readability
- **CLIP 텍스트 인코더 기반 문장 임베딩**: 이미지와 동일한 CLIP 모델 사용
- **드리프트 분석**: 속성 지표 및 임베딩 드리프트 지원

### 4. 시계열 분석 플러그인 신규 추가
- **숫자형 지표**: mean, variance, skewness, kurtosis, trend/seasonal/residual strength, 정상성 검정 (ADF/KPSS)
- **범주형 지표**: 빈도 분포, entropy, unique count
- **드리프트 분석**: 통계 지표 및 분포 비교

### 5. 오디오 분석 플러그인 신규 추가
- **물리 기반 특징**: RMS energy, ZCR, spectral centroid/bandwidth/rolloff, MFCC 통계
- **드리프트 분석**: 특징 분포 비교

### 6. 캐시 네임스페이싱
- 모달리티별 독립 캐시로 충돌 방지:
  - `attributes_image.json`, `embedding_image.pkl`
  - `attributes_text.json`, `embedding_text.pkl`
  - `attributes_timeseries.json`
  - `attributes_audio.json`
- 기존 `attributes`, `embedding` 캐시는 하위 호환성 유지

### 7. ddoc-full 메타패키지
- 모든 모달리티 플러그인을 포함하는 통합 패키지
- `pip install ddoc-full` 한 번으로 모든 기능 설치

## 🔧 기술적 변경사항

### 코어 변경
- **멀티 플러그인 실행**: `eda_run`, `drift_detect` 훅이 모든 구현체를 실행하고 결과를 병합
- **캐시 서비스 확장**: 네임스페이스 cache_type 지원 (`attributes_*`, `embedding_*`)
- **Builtin 텍스트 훅 제거**: 혼동을 줄이기 위해 텍스트 단일파일 fallback 제거

### 플러그인 구조
- 각 모달리티는 독립적인 플러그인 패키지
- `ddoc.yaml` 기반 데이터셋 식별 및 스키마 검증
- 플러그인 결과에 `modality` 필드 포함

## 📦 패키지 버전

- **ddoc**: 2.0.4 → 2.1.0
- **ddoc-plugin-vision**: 0.2.1 → 1.0.0
- **ddoc-plugin-text**: 0.1.0 → 1.0.0 (신규)
- **ddoc-plugin-timeseries**: 0.1.0 → 1.0.0 (신규)
- **ddoc-plugin-audio**: 0.1.0 → 1.0.0 (신규)
- **ddoc-full**: 0.1.0 → 1.0.0 (신규)

## 📋 데이터셋 설정

각 데이터셋 폴더에는 `ddoc.yaml` 파일이 필요하며, 모달리티와 스키마를 명시해야 합니다.

### 이미지
```yaml
modality: image
```

### 텍스트 (CSV 필수)
```yaml
modality: text
csv_file: data.csv          # 필수
text_column: text           # 필수
id_column: id               # 선택
language: english           # 선택
```

### 시계열
```yaml
modality: timeseries
csv_file: series.csv        # 필수
timestamp_column: timestamp # 필수
numeric_columns: [...]      # 선택
categorical_columns: [...]  # 선택
```

### 오디오
```yaml
modality: audio
```

## 🚀 사용 예제

### 설치
```bash
pip install ddoc-full
```

### 분석
```bash
# 모든 모달리티 자동 분석
ddoc analyze eda

# 드리프트 분석
ddoc analyze drift baseline v05
```

## 📚 문서

상세 사용 가이드는 본 릴리스 노트의 "데이터셋 설정" 및 "사용 예제" 섹션을 참조하세요.
- [Changelog](../changelog.md) - 전체 변경 이력

## 🔄 마이그레이션

기존 사용자는 특별한 마이그레이션 작업이 필요 없습니다. 다만:
- 이미지 분석 캐시는 자동으로 `attributes_image`로 마이그레이션됩니다
- 텍스트 단일파일 fallback은 제거되었으므로, 텍스트 분석은 `ddoc-plugin-text`를 설치해야 합니다

## 🐛 알려진 이슈

없음

## 🙏 기여자

- Multi-modal analysis architecture design
- Vision plugin metrics enhancement
- Text/Timeseries/Audio plugin implementation

