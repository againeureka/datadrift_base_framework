# ddoc v2.0.0 Release Notes

## Release Date
2025-11-14

## ğŸ‰ Major Release - Complete System Overhaul

ddoc v2.0.0 introduces a complete architectural redesign with a Git-like workflow and snapshot-based version management. This is a major breaking release that fundamentally changes how ddoc manages data, code, and experiments.

## ğŸ†• What's New

### Unified Snapshot Command
- **Single command**: `ddoc snapshot` with multiple operations
- **Create**: `snapshot -m "message" -a alias`
- **List**: `snapshot` or `snapshot --list`
- **Restore**: `snapshot --restore v01`
- **Compare**: `snapshot --diff v01 v02`
- **Graph**: `snapshot --graph` (replaces lineage)
- **Manage**: Delete, verify, prune snapshots
- **Simplified workflow**: No need to remember multiple commands

### Snapshot-based Version Management
- **Complete state capture**: Single snapshot contains data + code + experiments
- **Automatic versioning**: v01, v02, v03... generated automatically
- **Alias system**: Give meaningful names like `baseline`, `production`
- **Perfect reproducibility**: Git hash + DVC hash = 100% reproducible

### Automatic Project Scaffolding
- **`ddoc init <path>`**: Creates complete project structure
- **Pre-configured setup**: Git, DVC, directories, config files
- **Ready to use**: No manual setup required

### Unified Add Command
- **`ddoc add --data`**: Add datasets (auto DVC tracking)
- **`ddoc add --code`**: Add code (auto Git tracking)
- **`ddoc add --notebook`**: Add notebooks
- **Smart handling**: Automatic ZIP/TAR extraction

### Data Bundle Management
- **Simplified approach**: Entire `data/` managed as one bundle
- **Efficient storage**: DVC deduplication handles space
- **Flexible combinations**: Different datasets per snapshot

## ğŸ”„ Breaking Changes

### Command Structure
```bash
# v1.x (OLD)
ddoc dataset add my_data ./data
ddoc dataset commit -m "message"
ddoc dataset checkout my_data v1
ddoc lineage show my_data

# v2.0.0 (NEW)
ddoc add --data ./data
ddoc snapshot -m "message" -a baseline
ddoc snapshot --restore baseline
ddoc snapshot --graph
```

**Note**: Old commands (`commit`, `checkout`, `log`, `status`, `alias`, `diff`) are deprecated but still work for backwards compatibility. They will be removed in v2.1.

### Workspace Structure
```
# v1.x (OLD)
workspace/
â”œâ”€â”€ datasets/
â”‚   â”œâ”€â”€ my_data.dvc
â”‚   â””â”€â”€ another_data.dvc
â””â”€â”€ params.yaml

# v2.0.0 (NEW)
project/
â”œâ”€â”€ data/              # All datasets (bundle)
â”œâ”€â”€ code/              # Training code
â”œâ”€â”€ notebooks/         # Analysis
â”œâ”€â”€ experiments/       # Results
â”œâ”€â”€ .ddoc/
â”‚   â”œâ”€â”€ snapshots/    # Snapshot YAML files
â”‚   â””â”€â”€ cache/        # Analysis cache
â”œâ”€â”€ data.dvc          # Single DVC file
â””â”€â”€ .git/             # Git required
```

### Required Dependencies
- **Git**: Now required (was optional)
- **DVC**: Required (SCM mode enforced)

### Removed Commands
- **Entire `dataset` subcommand** â†’ Use `ddoc add --data` + `ddoc snapshot`
- **Entire `lineage` subcommand** â†’ Use `ddoc snapshot --graph`
- `ddoc dataset add` â†’ Use `ddoc add --data`
- `ddoc dataset commit` â†’ Use `ddoc snapshot -m`
- `ddoc dataset checkout` â†’ Use `ddoc snapshot --restore`
- `ddoc dataset tag` â†’ Use `ddoc snapshot --set-alias`
- `ddoc code register` â†’ Use `ddoc add --code`

### Deprecated Commands (will be removed in v2.1)
- `ddoc commit` â†’ Use `ddoc snapshot -m`
- `ddoc checkout` â†’ Use `ddoc snapshot --restore`
- `ddoc log` â†’ Use `ddoc snapshot --list`
- `ddoc status` â†’ Use `git status` directly
- `ddoc alias` â†’ Use `ddoc snapshot --set-alias`
- `ddoc diff` â†’ Use `ddoc snapshot --diff`

## âœ¨ New Features

### Core Services
- **WorkspaceService**: Project initialization and scaffolding
- **FileService**: File addition and management
- **SnapshotService**: Snapshot creation and restoration
- **GitService**: Git integration helpers
- **CacheService**: Analysis cache management

### Unified Snapshot System
All snapshot operations through a single command:
- **Create**: `ddoc snapshot -m "message" -a alias`
- **List**: `ddoc snapshot` or `ddoc snapshot --list`
- **Show**: `ddoc snapshot v01` (detailed view)
- **Restore**: `ddoc snapshot --restore v01` or `ddoc snapshot -r baseline`
- **Compare**: `ddoc snapshot --diff v01 v02`
- **Graph**: `ddoc snapshot --graph` (lineage visualization)
- **Delete**: `ddoc snapshot --delete v01`
- **Alias**: `ddoc snapshot --set-alias v01 baseline`
- **Verify**: `ddoc snapshot --verify v01` (integrity check)
- **Prune**: `ddoc snapshot --prune` (identify orphans)

### Enhanced Reproducibility
Each snapshot captures:
- Git commit hash (code version)
- DVC hash (data version)
- Experiment metrics and artifacts
- Timestamps and descriptions
- Lineage relationships

## ğŸ“Š Improvements

### Performance
- Faster CLI startup (lazy loading)
- Efficient storage (DVC deduplication)
- Cached analysis for repeated operations

### User Experience
- Intuitive command structure
- Clear error messages
- Comprehensive documentation
- Migration guide from v1.x

### Architecture
- Clean service layer separation
- GUI-ready design (CLI wraps services)
- Extensible for future features
- Better testing infrastructure

## ğŸ”§ Technical Details

### New Modules
- `ddoc/core/workspace.py` - Workspace management
- `ddoc/core/file_service.py` - File operations
- `ddoc/core/snapshot_service.py` - Snapshot logic
- `ddoc/core/git_service.py` - Git integration
- `ddoc/core/schemas.py` - Pydantic schemas
- `ddoc/core/cache_service.py` - Cache management

### Modified Modules
- `ddoc/cli/commands.py` - Complete CLI overhaul

### Maintained Features
- Plugin system (Vision, YOLO, NLP)
- EDA and drift analysis
- Experiment tracking (MLflow)
- Lineage tracking

## ğŸ“š Documentation

- [ë¬¸ì„œ ì¸ë±ìŠ¤](../README.md) - ì „ì²´ ë¬¸ì„œ
- [ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ](../migration/v1-to-v2.md) - v1.xì—ì„œ ì—…ê·¸ë ˆì´ë“œ
- [Changelog](../changelog.md) - ë³€ê²½ì‚¬í•­ ìš”ì•½

## ğŸš€ Getting Started

### Installation
```bash
pip install ddoc
```

### Quick Start
```bash
# Create project
ddoc init myproject
cd myproject

# Add data and code
ddoc add --data ~/datasets/train_data
ddoc add --code ~/scripts/train.py

# Create first snapshot (auto-commits to git/dvc)
ddoc snapshot -m "baseline model" -a baseline

# Make changes and create another snapshot
ddoc add --data ~/datasets/augmented
ddoc snapshot -m "with augmentation" -a augmented

# View snapshots
ddoc snapshot
ddoc snapshot --graph

# Compare versions
ddoc snapshot --diff baseline augmented

# Restore previous version
ddoc snapshot --restore baseline

# Verify integrity
ddoc snapshot --verify-all
```

## ğŸ“¦ Migration from v1.x

v1.x projects cannot be automatically migrated. Follow the [Migration Guide](../migration/v1-to-v2.md) for step-by-step instructions.

Key steps:
1. Create new v2.0.0 project
2. Copy data and code
3. Create initial snapshot
4. Optionally recreate version history

## âš ï¸ Known Issues

None reported at release time.

## ğŸ¯ Roadmap

Future releases will include:
- Web UI (FastAPI + React)
- Remote snapshot synchronization
- Automated drift monitoring
- Advanced lineage visualization
- Team collaboration features

## ğŸ™ Acknowledgments

Thank you to all early testers and contributors who provided feedback during the v2.0.0 development cycle.

## ğŸ“ Support

- GitHub Issues: [ddoc/issues](https://github.com/your-org/ddoc/issues)
- Documentation: [docs/](../README.md)
- Tag issues with: `v2.x`

## ğŸ”— Version History

- **v2.0.0** (2025-11-14) - Major overhaul (Current)
- **v1.3.6** (Previous) - Last v1.x release

---

**Full Changelog**: https://github.com/your-org/ddoc/compare/v1.3.6...v2.0.0

